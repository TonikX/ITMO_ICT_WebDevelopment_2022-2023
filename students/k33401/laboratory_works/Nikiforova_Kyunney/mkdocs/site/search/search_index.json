{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022 \u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u041d\u0438\u043a\u0438\u0444\u043e\u0440\u043e\u0432\u043e\u0439 \u041a\u044e\u043d\u043d\u044d\u0439 \u041a33402","title":"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e"},{"location":"#web-2022","text":"","title":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022"},{"location":"#33402","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u041d\u0438\u043a\u0438\u0444\u043e\u0440\u043e\u0432\u043e\u0439 \u041a\u044e\u043d\u043d\u044d\u0439 \u041a33402"},{"location":"lab1/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21161 server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : data = conn . recv ( 1024 ) if not data : break print ( data . decode ()) conn . send ( b 'hello, client!' ) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) sock . send ( b 'hello, server!' ) data = sock . recv ( 1024 ) sock . close () print ( data . decode ()) \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21162 server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : data = conn . recv ( 1024 ) if not data : break data = data . decode () data = data . split ( ',' ) a = data [ 0 ] b = data [ 1 ] h = data [ 2 ] S = 0.5 * ( int ( a ) + int ( b )) * int ( h ) print ( S ) conn . send ( str ( S ) . encode ()) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) print ( '\u041f\u043e\u0438\u0441\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u0438 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438' ) a = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f: ' ) b = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f: ' ) h = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u0432\u044b\u0441\u043e\u0442\u044b: ' ) sock . send (( a + ',' + b + ',' + h ) . encode ()) data = sock . recv ( 1024 ) sock . close () print ( '\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438 \u0440\u0430\u0432\u043d\u0430: ' , data . decode ()) \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21163 server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : fin = open ( 'index.html' ) content = fin . read () fin . close () response = 'HTTP/1.0 200 OK \\n\\n ' + content conn . send ( response . encode ()) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) data = sock . recv ( 1024 ) sock . close () print ( data . decode ()) index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > lol </ title > </ head > < body > < p > hello, world </ p > </ body > </ html > \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21164 server.py import socket import threading sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 10 ) print ( '[ Server Started ]' ) clients = [] def send_messages ( msg , author ): for client in clients : if author != client : client . send ( msg ) def accept_messages ( client ): while True : msg = client . recv ( 1024 ) send_messages ( msg , client ) while True : try : client_socket , address = sock . accept () clients . append ( client_socket ) thread = threading . Thread ( target = accept_messages , args = ( client_socket ,)) thread . start () except KeyboardInterrupt : print ( '[ Server stopped ]' ) break sock . close () client.py import socket import threading sock = socket . socket () sock . connect (( 'localhost' , 9090 )) username = input ( 'Name: ' ) def accept_from_server (): while True : msg = sock . recv ( 1024 ) print ( msg . decode ()) thread = threading . Thread ( target = accept_from_server ) thread . start () while True : try : message = input () sock . sendall (( '[' + username + '] :: ' + message ) . encode ()) except : sock . sendall ( 'Error' . encode ()) print ( 'Error. Disconnected' ) break sock . close () \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21165 server.py import socket grades = {} class MyHTTPServer : def __init__ ( self , host , port ): self . host = host self . port = port def serve_forever ( self ): serv_sock = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) try : serv_sock . bind (( self . host , self . port )) serv_sock . listen () while True : conn , _ = serv_sock . accept () try : self . serve_client ( conn ) except Exception as e : print ( 'Fail' , e ) finally : serv_sock . close () def serve_client ( self , client ): try : req = self . parse_request ( client ) resp = self . handle_request ( req ) self . send_response ( client , resp ) except ConnectionResetError : client = None if client : client . close () def parse_request_line ( self , rfile ): line = rfile . readline () line = line . decode ( 'utf-8' ) return line . split () def parse_request ( self , conn ): rfile = conn . makefile ( 'rb' ) method , target , ver = self . parse_request_line ( rfile ) request = { 'data' : {}, 'method' : method } if '?' in target : request [ 'method' ] = 'POST' values = target . split ( '?' )[ 1 ] . split ( '&' ) for value in values : a , b = value . split ( '=' ) request [ 'data' ][ a ] = b return request def handle_request ( self , req ): if req [ 'method' ] == 'POST' : return self . handle_post ( req ) else : return self . handle_get () def handle_get ( self ): content_type = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>Subject</label><input name=\"discipline\" /><br><br><label>Grade</label><input name=\"grade\"/><br><br><input type=\"submit\"></form>' for subject in grades : body += f '<div><span> { subject } : { grades [ subject ] } </span></div>' body += '</div></body></html>' body = body . encode ( 'utf-8' ) headers = [( 'Content-Type' , content_type ), ( 'Content-Length' , len ( body ))] return Response ( 200 , 'OK' , headers , body ) def handle_post ( self , request ): discipline = request [ 'data' ][ 'discipline' ] grade = request [ 'data' ][ 'grade' ] if discipline not in grades : grades [ discipline ] = [] grades [ discipline ] . append ( grade ) return self . handle_get () def send_response ( self , conn , resp ): rfile = conn . makefile ( 'wb' ) status_line = f 'HTTP/1.1 { resp . status } { resp . reason } \\r\\n ' rfile . write ( status_line . encode ( 'utf-8' )) if resp . headers : for ( key , value ) in resp . headers : header_line = f ' { key } : { value } \\r\\n ' rfile . write ( header_line . encode ( 'utf-8' )) rfile . write ( b ' \\r\\n ' ) if resp . body : rfile . write ( resp . body ) rfile . flush () rfile . close () class Response : def __init__ ( self , status , reason , headers = None , body = None ): self . status = status self . reason = reason self . headers = headers self . body = body if __name__ == '__main__' : serv = MyHTTPServer ( '127.0.0.1' , 9090 ) serv . serve_forever ()","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lab1/#no1","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lab1/#no1_1","text":"server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : data = conn . recv ( 1024 ) if not data : break print ( data . decode ()) conn . send ( b 'hello, client!' ) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) sock . send ( b 'hello, server!' ) data = sock . recv ( 1024 ) sock . close () print ( data . decode ())","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21161"},{"location":"lab1/#no2","text":"server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : data = conn . recv ( 1024 ) if not data : break data = data . decode () data = data . split ( ',' ) a = data [ 0 ] b = data [ 1 ] h = data [ 2 ] S = 0.5 * ( int ( a ) + int ( b )) * int ( h ) print ( S ) conn . send ( str ( S ) . encode ()) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) print ( '\u041f\u043e\u0438\u0441\u043a \u043f\u043b\u043e\u0449\u0430\u0434\u0438 \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438' ) a = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f: ' ) b = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u043d\u0438\u0436\u043d\u0435\u0433\u043e \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f: ' ) h = input ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u043b\u0438\u043d\u0443 \u0432\u044b\u0441\u043e\u0442\u044b: ' ) sock . send (( a + ',' + b + ',' + h ) . encode ()) data = sock . recv ( 1024 ) sock . close () print ( '\u041f\u043b\u043e\u0449\u0430\u0434\u044c \u0442\u0440\u0430\u043f\u0435\u0446\u0438\u0438 \u0440\u0430\u0432\u043d\u0430: ' , data . decode ())","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21162"},{"location":"lab1/#no3","text":"server.py import socket sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 1 ) conn , addr = sock . accept () while True : fin = open ( 'index.html' ) content = fin . read () fin . close () response = 'HTTP/1.0 200 OK \\n\\n ' + content conn . send ( response . encode ()) conn . close () client.py import socket sock = socket . socket () sock . connect (( 'localhost' , 9090 )) data = sock . recv ( 1024 ) sock . close () print ( data . decode ()) index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > lol </ title > </ head > < body > < p > hello, world </ p > </ body > </ html >","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21163"},{"location":"lab1/#no4","text":"server.py import socket import threading sock = socket . socket () sock . bind (( 'localhost' , 9090 )) sock . listen ( 10 ) print ( '[ Server Started ]' ) clients = [] def send_messages ( msg , author ): for client in clients : if author != client : client . send ( msg ) def accept_messages ( client ): while True : msg = client . recv ( 1024 ) send_messages ( msg , client ) while True : try : client_socket , address = sock . accept () clients . append ( client_socket ) thread = threading . Thread ( target = accept_messages , args = ( client_socket ,)) thread . start () except KeyboardInterrupt : print ( '[ Server stopped ]' ) break sock . close () client.py import socket import threading sock = socket . socket () sock . connect (( 'localhost' , 9090 )) username = input ( 'Name: ' ) def accept_from_server (): while True : msg = sock . recv ( 1024 ) print ( msg . decode ()) thread = threading . Thread ( target = accept_from_server ) thread . start () while True : try : message = input () sock . sendall (( '[' + username + '] :: ' + message ) . encode ()) except : sock . sendall ( 'Error' . encode ()) print ( 'Error. Disconnected' ) break sock . close ()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21164"},{"location":"lab1/#no5","text":"server.py import socket grades = {} class MyHTTPServer : def __init__ ( self , host , port ): self . host = host self . port = port def serve_forever ( self ): serv_sock = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) try : serv_sock . bind (( self . host , self . port )) serv_sock . listen () while True : conn , _ = serv_sock . accept () try : self . serve_client ( conn ) except Exception as e : print ( 'Fail' , e ) finally : serv_sock . close () def serve_client ( self , client ): try : req = self . parse_request ( client ) resp = self . handle_request ( req ) self . send_response ( client , resp ) except ConnectionResetError : client = None if client : client . close () def parse_request_line ( self , rfile ): line = rfile . readline () line = line . decode ( 'utf-8' ) return line . split () def parse_request ( self , conn ): rfile = conn . makefile ( 'rb' ) method , target , ver = self . parse_request_line ( rfile ) request = { 'data' : {}, 'method' : method } if '?' in target : request [ 'method' ] = 'POST' values = target . split ( '?' )[ 1 ] . split ( '&' ) for value in values : a , b = value . split ( '=' ) request [ 'data' ][ a ] = b return request def handle_request ( self , req ): if req [ 'method' ] == 'POST' : return self . handle_post ( req ) else : return self . handle_get () def handle_get ( self ): content_type = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>Subject</label><input name=\"discipline\" /><br><br><label>Grade</label><input name=\"grade\"/><br><br><input type=\"submit\"></form>' for subject in grades : body += f '<div><span> { subject } : { grades [ subject ] } </span></div>' body += '</div></body></html>' body = body . encode ( 'utf-8' ) headers = [( 'Content-Type' , content_type ), ( 'Content-Length' , len ( body ))] return Response ( 200 , 'OK' , headers , body ) def handle_post ( self , request ): discipline = request [ 'data' ][ 'discipline' ] grade = request [ 'data' ][ 'grade' ] if discipline not in grades : grades [ discipline ] = [] grades [ discipline ] . append ( grade ) return self . handle_get () def send_response ( self , conn , resp ): rfile = conn . makefile ( 'wb' ) status_line = f 'HTTP/1.1 { resp . status } { resp . reason } \\r\\n ' rfile . write ( status_line . encode ( 'utf-8' )) if resp . headers : for ( key , value ) in resp . headers : header_line = f ' { key } : { value } \\r\\n ' rfile . write ( header_line . encode ( 'utf-8' )) rfile . write ( b ' \\r\\n ' ) if resp . body : rfile . write ( resp . body ) rfile . flush () rfile . close () class Response : def __init__ ( self , status , reason , headers = None , body = None ): self . status = status self . reason = reason self . headers = headers self . body = body if __name__ == '__main__' : serv = MyHTTPServer ( '127.0.0.1' , 9090 ) serv . serve_forever ()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u21165"},{"location":"lab2/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0412\u0430\u0440\u0438\u0430\u043d\u0442 3: \u0422\u0430\u0431\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0432\u0438\u0430\u043f\u0435\u0440\u0435\u043b\u0435\u0442\u0430\u0445 \u0425\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u043e\u043c\u0435\u0440\u0435 \u0440\u0435\u0439\u0441\u0430, \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u043e\u0442\u043b\u0435\u0442\u0435, \u043f\u0440\u0438\u043b\u0435\u0442\u0435, \u0442\u0438\u043f\u0435 (\u043f\u0440\u0438\u043b\u0435\u0442, \u043e\u0442\u043b\u0435\u0442), \u043d\u043e\u043c\u0435\u0440\u0435 \u0433\u0435\u0439\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442 \u043d\u0430 \u0440\u0435\u0439\u0441\u0430\u0445. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0439\u0441 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 \u0438 \u0432\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u043e\u043c\u0435\u0440 \u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u0432\u0441\u0435\u0445 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432 \u0440\u0435\u0439\u0441\u0430. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u0440\u0435\u0439\u0441\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 models.py from django.db import models from django.contrib.auth.models import AbstractUser from django.conf import settings from django.core.validators import MinValueValidator , MaxValueValidator # \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 class Passenger ( AbstractUser ): last_name = models . CharField ( max_length = 30 ) first_name = models . CharField ( max_length = 30 ) birth_date = models . DateField ( null = True , blank = True ) passport = models . CharField ( max_length = 10 , unique = True ) def __str__ ( self ): return self . passport # \u043c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 class Airline ( models . Model ): name = models . CharField ( max_length = 30 ) def __str__ ( self ): return self . name # \u043c\u043e\u0434\u0435\u043b\u044c \u0440\u0435\u0439\u0441\u0430 class Flight ( models . Model ): TYPE_CHOICES = [ ( 'in' , 'Arrival' ), ( 'out' , 'Departure' ), ] flight_number = models . CharField ( max_length = 6 , unique = True ) arrival_time = models . DateTimeField () departure_time = models . DateTimeField () type = models . CharField ( max_length = 10 , choices = TYPE_CHOICES ) gate_number = models . CharField ( max_length = 3 ) airline = models . ForeignKey ( Airline , on_delete = models . CASCADE ) def __str__ ( self ): return self . flight_number # \u043c\u043e\u0434\u0435\u043b\u044c \u0431\u0438\u043b\u0435\u0442\u0430 class Ticket ( models . Model ): passport = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE ) flight_number = models . ForeignKey ( Flight , on_delete = models . CASCADE ) seat = models . CharField ( max_length = 3 ) # \u043c\u043e\u0434\u0435\u043b\u044c \u043e\u0442\u0437\u044b\u0432\u0430 class Comment ( models . Model ): passenger = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE ) flight_number = models . ForeignKey ( Flight , on_delete = models . CASCADE ) comment = models . CharField ( max_length = 1000 ) rating = models . IntegerField ( validators = [ MinValueValidator ( 1 ), MaxValueValidator ( 10 )] ) views.py from django.shortcuts import render , redirect from .models import Passenger , Flight , Ticket , Comment from .forms import RegisterForm , CreateBooking , CreateComment from django.views.generic.list import ListView from django.views.generic.edit import UpdateView , DeleteView def main_page ( request ): return render ( request , 'main.html' ) def user_registration ( request ): data = {} form = RegisterForm ( request . POST or None ) if form . is_valid (): form . save () data [ \"form\" ] = form return render ( request , 'registration.html' , data ) class FlightList ( ListView ): model = Flight template_name = 'flight_list.html' def create_booking ( request ): data = {} form = CreateBooking ( request . POST or None ) if form . is_valid (): form . save () data [ \"form\" ] = form return render ( request , 'create_booking.html' , data ) def my_bookings ( request ): if \"passport\" in request . POST : passport = int ( request . POST [ \"passport\" ]) return redirect ( f '/passenger_bookings/ { passport } /' ) else : return render ( request , 'my_bookings.html' ) def passenger_bookings ( request , passport ): passenger = Passenger . objects . get ( passport = passport ) tickets = Ticket . objects . filter ( passport = passenger . id ) return render ( request , 'passenger_bookings.html' , { 'tickets' : tickets , 'passenger' : passenger }) class TicketUpdate ( UpdateView ): model = Ticket fields = [ 'seat' ] success_url = '/bookings' template_name = 'ticket_update.html' class TicketDelete ( DeleteView ): model = Ticket success_url = '/bookings' template_name = 'ticket_delete.html' def all_passengers ( request , flight_number ): flight = Flight . objects . get ( flight_number = flight_number ) tickets = Ticket . objects . filter ( flight_number = flight . id ) passengers = Passenger . objects . filter ( id__in = [ ticket . passport . id for ticket in tickets ]) return render ( request , 'all_passengers.html' , { 'passengers' : passengers , 'flight' : flight }) def all_comments ( request ): return render ( request , 'all_comments.html' , { 'object_list' : Comment . objects . all ()}) def create_comment ( request ): data = {} form = CreateComment ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_comment.html' , data ) urls.py from django.urls import path from . import views urlpatterns = [ path ( '' , views . main_page , name = 'main' ), path ( 'registration/' , views . user_registration , name = 'register' ), path ( 'flight_list/' , views . FlightList . as_view (), name = 'flight_list' ), path ( 'booking/' , views . create_booking , name = 'booking' ), path ( 'my_bookings/' , views . my_bookings , name = 'my_bookings' ), path ( 'passenger_bookings/<int:passport>/' , views . passenger_bookings ), path ( 'bookings/<int:pk>/update' , views . TicketUpdate . as_view ()), path ( 'bookings/<int:pk>/delete' , views . TicketDelete . as_view ()), path ( 'all_passengers/<str:flight_number>' , views . all_passengers ), path ( 'all_comments/' , views . all_comments , name = 'all_comments' ), path ( 'create_comment/' , views . create_comment , name = 'create_comment' ), ] forms.py from django import forms from .models import Passenger , Ticket , Comment class RegisterForm ( forms . ModelForm ): class Meta : model = Passenger fields = [ \"username\" , \"password\" , \"last_name\" , \"first_name\" , \"birth_date\" , \"passport\" ] class CreateBooking ( forms . ModelForm ): class Meta : model = Ticket fields = [ \"flight_number\" , \"passport\" , \"seat\" ] class CreateComment ( forms . ModelForm ): class Meta : model = Comment fields = [ \"flight_number\" , \"rating\" , \"comment\" , \"passenger\" ]","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lab2/#no2","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lab2/#_1","text":"\u0412\u0430\u0440\u0438\u0430\u043d\u0442 3: \u0422\u0430\u0431\u043b\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0432\u0438\u0430\u043f\u0435\u0440\u0435\u043b\u0435\u0442\u0430\u0445 \u0425\u0440\u0430\u043d\u0438\u0442\u0441\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043d\u043e\u043c\u0435\u0440\u0435 \u0440\u0435\u0439\u0441\u0430, \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438, \u043e\u0442\u043b\u0435\u0442\u0435, \u043f\u0440\u0438\u043b\u0435\u0442\u0435, \u0442\u0438\u043f\u0435 (\u043f\u0440\u0438\u043b\u0435\u0442, \u043e\u0442\u043b\u0435\u0442), \u043d\u043e\u043c\u0435\u0440\u0435 \u0433\u0435\u0439\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043c\u0435\u0441\u0442 \u043d\u0430 \u0440\u0435\u0439\u0441\u0430\u0445. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430 \u0440\u0435\u0439\u0441 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 \u0438 \u0432\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u043d\u043e\u043c\u0435\u0440 \u0435\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u0432\u0441\u0435\u0445 \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u043e\u0432 \u0440\u0435\u0439\u0441\u0430. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u0440\u0435\u0439\u0441\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u0430\u0442\u0430 \u0440\u0435\u0439\u0441\u0430, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435.","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{"location":"lab2/#_2","text":"models.py from django.db import models from django.contrib.auth.models import AbstractUser from django.conf import settings from django.core.validators import MinValueValidator , MaxValueValidator # \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u0430\u0441\u0441\u0430\u0436\u0438\u0440\u0430 class Passenger ( AbstractUser ): last_name = models . CharField ( max_length = 30 ) first_name = models . CharField ( max_length = 30 ) birth_date = models . DateField ( null = True , blank = True ) passport = models . CharField ( max_length = 10 , unique = True ) def __str__ ( self ): return self . passport # \u043c\u043e\u0434\u0435\u043b\u044c \u0430\u0432\u0438\u0430\u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438 class Airline ( models . Model ): name = models . CharField ( max_length = 30 ) def __str__ ( self ): return self . name # \u043c\u043e\u0434\u0435\u043b\u044c \u0440\u0435\u0439\u0441\u0430 class Flight ( models . Model ): TYPE_CHOICES = [ ( 'in' , 'Arrival' ), ( 'out' , 'Departure' ), ] flight_number = models . CharField ( max_length = 6 , unique = True ) arrival_time = models . DateTimeField () departure_time = models . DateTimeField () type = models . CharField ( max_length = 10 , choices = TYPE_CHOICES ) gate_number = models . CharField ( max_length = 3 ) airline = models . ForeignKey ( Airline , on_delete = models . CASCADE ) def __str__ ( self ): return self . flight_number # \u043c\u043e\u0434\u0435\u043b\u044c \u0431\u0438\u043b\u0435\u0442\u0430 class Ticket ( models . Model ): passport = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE ) flight_number = models . ForeignKey ( Flight , on_delete = models . CASCADE ) seat = models . CharField ( max_length = 3 ) # \u043c\u043e\u0434\u0435\u043b\u044c \u043e\u0442\u0437\u044b\u0432\u0430 class Comment ( models . Model ): passenger = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE ) flight_number = models . ForeignKey ( Flight , on_delete = models . CASCADE ) comment = models . CharField ( max_length = 1000 ) rating = models . IntegerField ( validators = [ MinValueValidator ( 1 ), MaxValueValidator ( 10 )] ) views.py from django.shortcuts import render , redirect from .models import Passenger , Flight , Ticket , Comment from .forms import RegisterForm , CreateBooking , CreateComment from django.views.generic.list import ListView from django.views.generic.edit import UpdateView , DeleteView def main_page ( request ): return render ( request , 'main.html' ) def user_registration ( request ): data = {} form = RegisterForm ( request . POST or None ) if form . is_valid (): form . save () data [ \"form\" ] = form return render ( request , 'registration.html' , data ) class FlightList ( ListView ): model = Flight template_name = 'flight_list.html' def create_booking ( request ): data = {} form = CreateBooking ( request . POST or None ) if form . is_valid (): form . save () data [ \"form\" ] = form return render ( request , 'create_booking.html' , data ) def my_bookings ( request ): if \"passport\" in request . POST : passport = int ( request . POST [ \"passport\" ]) return redirect ( f '/passenger_bookings/ { passport } /' ) else : return render ( request , 'my_bookings.html' ) def passenger_bookings ( request , passport ): passenger = Passenger . objects . get ( passport = passport ) tickets = Ticket . objects . filter ( passport = passenger . id ) return render ( request , 'passenger_bookings.html' , { 'tickets' : tickets , 'passenger' : passenger }) class TicketUpdate ( UpdateView ): model = Ticket fields = [ 'seat' ] success_url = '/bookings' template_name = 'ticket_update.html' class TicketDelete ( DeleteView ): model = Ticket success_url = '/bookings' template_name = 'ticket_delete.html' def all_passengers ( request , flight_number ): flight = Flight . objects . get ( flight_number = flight_number ) tickets = Ticket . objects . filter ( flight_number = flight . id ) passengers = Passenger . objects . filter ( id__in = [ ticket . passport . id for ticket in tickets ]) return render ( request , 'all_passengers.html' , { 'passengers' : passengers , 'flight' : flight }) def all_comments ( request ): return render ( request , 'all_comments.html' , { 'object_list' : Comment . objects . all ()}) def create_comment ( request ): data = {} form = CreateComment ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_comment.html' , data ) urls.py from django.urls import path from . import views urlpatterns = [ path ( '' , views . main_page , name = 'main' ), path ( 'registration/' , views . user_registration , name = 'register' ), path ( 'flight_list/' , views . FlightList . as_view (), name = 'flight_list' ), path ( 'booking/' , views . create_booking , name = 'booking' ), path ( 'my_bookings/' , views . my_bookings , name = 'my_bookings' ), path ( 'passenger_bookings/<int:passport>/' , views . passenger_bookings ), path ( 'bookings/<int:pk>/update' , views . TicketUpdate . as_view ()), path ( 'bookings/<int:pk>/delete' , views . TicketDelete . as_view ()), path ( 'all_passengers/<str:flight_number>' , views . all_passengers ), path ( 'all_comments/' , views . all_comments , name = 'all_comments' ), path ( 'create_comment/' , views . create_comment , name = 'create_comment' ), ] forms.py from django import forms from .models import Passenger , Ticket , Comment class RegisterForm ( forms . ModelForm ): class Meta : model = Passenger fields = [ \"username\" , \"password\" , \"last_name\" , \"first_name\" , \"birth_date\" , \"passport\" ] class CreateBooking ( forms . ModelForm ): class Meta : model = Ticket fields = [ \"flight_number\" , \"passport\" , \"seat\" ] class CreateComment ( forms . ModelForm ): class Meta : model = Comment fields = [ \"flight_number\" , \"rating\" , \"comment\" , \"passenger\" ]","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{"location":"lab3/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430 (\u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0438\u0437 \u043a\u0443\u0440\u0441\u0430 \u00ab\u041e\u0441\u043d\u043e\u0432\u044b \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445\u00bb) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b. \u0422\u0430\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u043d\u043e\u043c\u0435\u0440\u0430\u0445, \u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e\u0449\u0438\u0445 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 \u0438 \u043e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445, \u0443\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u043d\u043e\u043c\u0435\u0440\u0430\u0445. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e, \u0438 \u0438\u043c\u0435\u044e\u0442\u0441\u044f \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0440\u0435\u0445 \u0442\u0438\u043f\u043e\u0432: \u043e\u0434\u043d\u043e\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u0434\u0432\u0443\u0445\u043c\u0435\u0441\u0442\u043d\u044b\u0439 \u0438 \u0442\u0440\u0435\u0445\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0443\u0442\u043a\u0438. \u0412 \u043a\u0430\u0436\u0434\u043e\u043c \u043d\u043e\u043c\u0435\u0440\u0435 \u0435\u0441\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d. \u041e \u043a\u0430\u0436\u0434\u043e\u043c \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e\u0449\u0435\u043c \u0434\u043e\u043b\u0436\u043d\u0430 \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e, \u0433\u043e\u0440\u043e\u0434, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u043d \u043f\u0440\u0438\u0431\u044b\u043b, \u0434\u0430\u0442\u0430 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435, \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440. \u041e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f: \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e, \u0433\u0434\u0435 (\u044d\u0442\u0430\u0436) \u0438 \u043a\u043e\u0433\u0434\u0430 (\u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438) \u043e\u043d \u0443\u0431\u0438\u0440\u0430\u0435\u0442. \u0421\u043b\u0443\u0436\u0430\u0449\u0438\u0439 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b \u0443\u0431\u0438\u0440\u0430\u0435\u0442 \u0432\u0441\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u044d\u0442\u0430\u0436\u0435 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0432 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u043d\u0438 \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u0443\u0431\u0438\u0440\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u044d\u0442\u0430\u0436\u0438. \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430 models.py from django.contrib.auth.models import AbstractUser from django.db import models class User ( AbstractUser ): tel = models . CharField ( max_length = 15 , blank = True , null = True ) REQUIRED_FIELDS = [ 'first_name' , 'last_name' , 'tel' ] def __str__ ( self ): return self . username class Guest ( models . Model ): first_name = models . CharField ( max_length = 70 , verbose_name = '\u0424\u0430\u043c\u0438\u043b\u0438\u044f' ) last_name = models . CharField ( max_length = 70 , verbose_name = '\u0418\u043c\u044f' ) patronymic = models . CharField ( max_length = 70 , verbose_name = '\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e' ) passport = models . CharField ( max_length = 10 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u0441\u043f\u043e\u0440\u0442\u0430' ) city = models . CharField ( max_length = 30 , verbose_name = '\u0413\u043e\u0440\u043e\u0434, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043f\u0440\u0438\u0431\u044b\u043b\u0438' ) class Employee ( models . Model ): first_name = models . CharField ( max_length = 70 , verbose_name = '\u0424\u0430\u043c\u0438\u043b\u0438\u044f' ) last_name = models . CharField ( max_length = 70 , verbose_name = '\u0418\u043c\u044f' ) patronymic = models . CharField ( max_length = 70 , verbose_name = '\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e' ) class Room ( models . Model ): ROOM_TYPE = ( ( '1' , '1 bed' ), ( '2' , '2 beds' ), ( '3' , '3 beds' ) ) STATE = ( ( \"+\" , \"Available\" ), ( \"-\" , \"Occupied\" ) ) number = models . IntegerField ( verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043c\u043d\u0430\u0442\u044b' ) type = models . CharField ( max_length = 1 , choices = ROOM_TYPE , verbose_name = '\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b' ) price = models . IntegerField ( verbose_name = '\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c' ) floor = models . IntegerField ( verbose_name = '\u042d\u0442\u0430\u0436' ) state = models . CharField ( max_length = 1 , choices = STATE , verbose_name = '\u0421\u0442\u0430\u0442\u0443\u0441' ) guest = models . ManyToManyField ( Guest , verbose_name = '\u0413\u043e\u0441\u0442\u044c' , through = 'Booking' ) employee = models . ManyToManyField ( Employee , verbose_name = '\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a' , through = 'Cleaning' ) class Booking ( models . Model ): check_in_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430' ) check_out_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430' ) guest = models . ForeignKey ( Guest , verbose_name = '\u0413\u043e\u0441\u0442\u044c' , on_delete = models . CASCADE ) room = models . ForeignKey ( Room , verbose_name = '\u041a\u043e\u043c\u043d\u0430\u0442\u0430' , on_delete = models . CASCADE ) class Cleaning ( models . Model ): date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0443\u0431\u043e\u0440\u043a\u0438' ) employee = models . ForeignKey ( Employee , verbose_name = '\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a' , on_delete = models . CASCADE ) room = models . ForeignKey ( Room , verbose_name = '\u041a\u043e\u043c\u043d\u0430\u0442\u0430' , on_delete = models . CASCADE ) views.py from django.shortcuts import render from rest_framework import generics from .serializers import * from .models import * class GuestListView ( generics . ListAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestCreateView ( generics . CreateAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class EmployeeListView ( generics . ListAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class EmployeeCreateView ( generics . CreateAPIView ): serializer_class = EmployeeSerializer queryset = Guest . objects . all () class EmployeeUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class EmployeeDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class CleaningListView ( generics . ListAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningCreateView ( generics . CreateAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class RoomListView ( generics . ListAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomCreateView ( generics . CreateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class BookingListView ( generics . ListAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingCreateView ( generics . CreateAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () serializers.py from rest_framework import serializers from .models import * class GuestSerializer ( serializers . ModelSerializer ): class Meta : model = Guest fields = \"__all__\" class EmployeeSerializer ( serializers . ModelSerializer ): class Meta : model = Employee fields = \"__all__\" class CleaningSerializer ( serializers . ModelSerializer ): class Meta : model = Cleaning fields = \"__all__\" class RoomSerializer ( serializers . ModelSerializer ): class Meta : model = Room fields = \"__all__\" class BookingSerializer ( serializers . ModelSerializer ): class Meta : model = Booking fields = \"__all__\" urls.py from django.urls import path from .views import * urlpatterns = [ path ( 'guest/list' , GuestListView . as_view ()), path ( 'guest/create' , GuestCreateView . as_view ()), path ( 'guest/<int:pk>/update' , GuestUpdateView . as_view ()), path ( 'guest/<int:pk>/delete' , GuestDestroyView . as_view ()), path ( 'employee/list' , EmployeeListView . as_view ()), path ( 'employee/create' , EmployeeCreateView . as_view ()), path ( 'employee/<int:pk>/update' , EmployeeUpdateView . as_view ()), path ( 'employee/<int:pk>/delete' , EmployeeDestroyView . as_view ()), path ( 'cleaning/list' , CleaningListView . as_view ()), path ( 'cleaning/create' , CleaningCreateView . as_view ()), path ( 'cleaning/<int:pk>/update' , CleaningUpdateView . as_view ()), path ( 'cleaning/<int:pk>/delete' , CleaningDestroyView . as_view ()), path ( 'room/list' , RoomListView . as_view ()), path ( 'room/create' , RoomCreateView . as_view ()), path ( 'room/<int:pk>/update' , RoomUpdateView . as_view ()), path ( 'room/<int:pk>/delete' , RoomDestroyView . as_view ()), path ( 'booking/list' , BookingListView . as_view ()), path ( 'booking/create' , BookingCreateView . as_view ()), path ( 'booking/<int:pk>/update' , BookingUpdateView . as_view ()), path ( 'booking/<int:pk>/delete' , BookingDestroyView . as_view ()), ]","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163"},{"location":"lab3/#no3","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163"},{"location":"lab3/#_1","text":"\u0413\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0430 (\u0432\u0430\u0440\u0438\u0430\u043d\u0442 \u0438\u0437 \u043a\u0443\u0440\u0441\u0430 \u00ab\u041e\u0441\u043d\u043e\u0432\u044b \u0431\u0430\u0437 \u0434\u0430\u043d\u043d\u044b\u0445\u00bb) \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b. \u0422\u0430\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u043d\u043e\u043c\u0435\u0440\u0430\u0445, \u043e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e\u0449\u0438\u0445 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u043a\u043b\u0438\u0435\u043d\u0442\u0430\u0445 \u0438 \u043e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445, \u0443\u0431\u0438\u0440\u0430\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u043d\u043e\u043c\u0435\u0440\u0430\u0445. \u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u043c\u0435\u0440\u043e\u0432 \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e, \u0438 \u0438\u043c\u0435\u044e\u0442\u0441\u044f \u043d\u043e\u043c\u0435\u0440\u0430 \u0442\u0440\u0435\u0445 \u0442\u0438\u043f\u043e\u0432: \u043e\u0434\u043d\u043e\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u0434\u0432\u0443\u0445\u043c\u0435\u0441\u0442\u043d\u044b\u0439 \u0438 \u0442\u0440\u0435\u0445\u043c\u0435\u0441\u0442\u043d\u044b\u0439, \u043e\u0442\u043b\u0438\u0447\u0430\u044e\u0449\u0438\u0435\u0441\u044f \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c\u044e \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f \u0432 \u0441\u0443\u0442\u043a\u0438. \u0412 \u043a\u0430\u0436\u0434\u043e\u043c \u043d\u043e\u043c\u0435\u0440\u0435 \u0435\u0441\u0442\u044c \u0442\u0435\u043b\u0435\u0444\u043e\u043d. \u041e \u043a\u0430\u0436\u0434\u043e\u043c \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u044e\u0449\u0435\u043c \u0434\u043e\u043b\u0436\u043d\u0430 \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f: \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e, \u0433\u043e\u0440\u043e\u0434, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043e\u043d \u043f\u0440\u0438\u0431\u044b\u043b, \u0434\u0430\u0442\u0430 \u043f\u043e\u0441\u0435\u043b\u0435\u043d\u0438\u044f \u0432 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u0435, \u0432\u044b\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440. \u041e \u0441\u043b\u0443\u0436\u0430\u0449\u0438\u0445 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0433\u043e \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u044f: \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0438\u043c\u044f, \u043e\u0442\u0447\u0435\u0441\u0442\u0432\u043e, \u0433\u0434\u0435 (\u044d\u0442\u0430\u0436) \u0438 \u043a\u043e\u0433\u0434\u0430 (\u0434\u0435\u043d\u044c \u043d\u0435\u0434\u0435\u043b\u0438) \u043e\u043d \u0443\u0431\u0438\u0440\u0430\u0435\u0442. \u0421\u043b\u0443\u0436\u0430\u0449\u0438\u0439 \u0433\u043e\u0441\u0442\u0438\u043d\u0438\u0446\u044b \u0443\u0431\u0438\u0440\u0430\u0435\u0442 \u0432\u0441\u0435 \u043d\u043e\u043c\u0435\u0440\u0430 \u043d\u0430 \u043e\u0434\u043d\u043e\u043c \u044d\u0442\u0430\u0436\u0435 \u0432 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u0435 \u0434\u043d\u0438 \u043d\u0435\u0434\u0435\u043b\u0438, \u043f\u0440\u0438 \u044d\u0442\u043e\u043c \u0432 \u0440\u0430\u0437\u043d\u044b\u0435 \u0434\u043d\u0438 \u043e\u043d \u043c\u043e\u0436\u0435\u0442 \u0443\u0431\u0438\u0440\u0430\u0442\u044c \u0440\u0430\u0437\u043d\u044b\u0435 \u044d\u0442\u0430\u0436\u0438.","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},{"location":"lab3/#_2","text":"models.py from django.contrib.auth.models import AbstractUser from django.db import models class User ( AbstractUser ): tel = models . CharField ( max_length = 15 , blank = True , null = True ) REQUIRED_FIELDS = [ 'first_name' , 'last_name' , 'tel' ] def __str__ ( self ): return self . username class Guest ( models . Model ): first_name = models . CharField ( max_length = 70 , verbose_name = '\u0424\u0430\u043c\u0438\u043b\u0438\u044f' ) last_name = models . CharField ( max_length = 70 , verbose_name = '\u0418\u043c\u044f' ) patronymic = models . CharField ( max_length = 70 , verbose_name = '\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e' ) passport = models . CharField ( max_length = 10 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u0441\u043f\u043e\u0440\u0442\u0430' ) city = models . CharField ( max_length = 30 , verbose_name = '\u0413\u043e\u0440\u043e\u0434, \u0438\u0437 \u043a\u043e\u0442\u043e\u0440\u043e\u0433\u043e \u043f\u0440\u0438\u0431\u044b\u043b\u0438' ) class Employee ( models . Model ): first_name = models . CharField ( max_length = 70 , verbose_name = '\u0424\u0430\u043c\u0438\u043b\u0438\u044f' ) last_name = models . CharField ( max_length = 70 , verbose_name = '\u0418\u043c\u044f' ) patronymic = models . CharField ( max_length = 70 , verbose_name = '\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e' ) class Room ( models . Model ): ROOM_TYPE = ( ( '1' , '1 bed' ), ( '2' , '2 beds' ), ( '3' , '3 beds' ) ) STATE = ( ( \"+\" , \"Available\" ), ( \"-\" , \"Occupied\" ) ) number = models . IntegerField ( verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043c\u043d\u0430\u0442\u044b' ) type = models . CharField ( max_length = 1 , choices = ROOM_TYPE , verbose_name = '\u0422\u0438\u043f \u043a\u043e\u043c\u043d\u0430\u0442\u044b' ) price = models . IntegerField ( verbose_name = '\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c' ) floor = models . IntegerField ( verbose_name = '\u042d\u0442\u0430\u0436' ) state = models . CharField ( max_length = 1 , choices = STATE , verbose_name = '\u0421\u0442\u0430\u0442\u0443\u0441' ) guest = models . ManyToManyField ( Guest , verbose_name = '\u0413\u043e\u0441\u0442\u044c' , through = 'Booking' ) employee = models . ManyToManyField ( Employee , verbose_name = '\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a' , through = 'Cleaning' ) class Booking ( models . Model ): check_in_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430' ) check_out_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430' ) guest = models . ForeignKey ( Guest , verbose_name = '\u0413\u043e\u0441\u0442\u044c' , on_delete = models . CASCADE ) room = models . ForeignKey ( Room , verbose_name = '\u041a\u043e\u043c\u043d\u0430\u0442\u0430' , on_delete = models . CASCADE ) class Cleaning ( models . Model ): date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0443\u0431\u043e\u0440\u043a\u0438' ) employee = models . ForeignKey ( Employee , verbose_name = '\u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a' , on_delete = models . CASCADE ) room = models . ForeignKey ( Room , verbose_name = '\u041a\u043e\u043c\u043d\u0430\u0442\u0430' , on_delete = models . CASCADE ) views.py from django.shortcuts import render from rest_framework import generics from .serializers import * from .models import * class GuestListView ( generics . ListAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestCreateView ( generics . CreateAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class GuestDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = GuestSerializer queryset = Guest . objects . all () class EmployeeListView ( generics . ListAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class EmployeeCreateView ( generics . CreateAPIView ): serializer_class = EmployeeSerializer queryset = Guest . objects . all () class EmployeeUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class EmployeeDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = EmployeeSerializer queryset = Employee . objects . all () class CleaningListView ( generics . ListAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningCreateView ( generics . CreateAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class CleaningDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = CleaningSerializer queryset = Cleaning . objects . all () class RoomListView ( generics . ListAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomCreateView ( generics . CreateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class RoomDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () class BookingListView ( generics . ListAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingCreateView ( generics . CreateAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingUpdateView ( generics . RetrieveUpdateAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () class BookingDestroyView ( generics . RetrieveDestroyAPIView ): serializer_class = BookingSerializer queryset = Booking . objects . all () serializers.py from rest_framework import serializers from .models import * class GuestSerializer ( serializers . ModelSerializer ): class Meta : model = Guest fields = \"__all__\" class EmployeeSerializer ( serializers . ModelSerializer ): class Meta : model = Employee fields = \"__all__\" class CleaningSerializer ( serializers . ModelSerializer ): class Meta : model = Cleaning fields = \"__all__\" class RoomSerializer ( serializers . ModelSerializer ): class Meta : model = Room fields = \"__all__\" class BookingSerializer ( serializers . ModelSerializer ): class Meta : model = Booking fields = \"__all__\" urls.py from django.urls import path from .views import * urlpatterns = [ path ( 'guest/list' , GuestListView . as_view ()), path ( 'guest/create' , GuestCreateView . as_view ()), path ( 'guest/<int:pk>/update' , GuestUpdateView . as_view ()), path ( 'guest/<int:pk>/delete' , GuestDestroyView . as_view ()), path ( 'employee/list' , EmployeeListView . as_view ()), path ( 'employee/create' , EmployeeCreateView . as_view ()), path ( 'employee/<int:pk>/update' , EmployeeUpdateView . as_view ()), path ( 'employee/<int:pk>/delete' , EmployeeDestroyView . as_view ()), path ( 'cleaning/list' , CleaningListView . as_view ()), path ( 'cleaning/create' , CleaningCreateView . as_view ()), path ( 'cleaning/<int:pk>/update' , CleaningUpdateView . as_view ()), path ( 'cleaning/<int:pk>/delete' , CleaningDestroyView . as_view ()), path ( 'room/list' , RoomListView . as_view ()), path ( 'room/create' , RoomCreateView . as_view ()), path ( 'room/<int:pk>/update' , RoomUpdateView . as_view ()), path ( 'room/<int:pk>/delete' , RoomDestroyView . as_view ()), path ( 'booking/list' , BookingListView . as_view ()), path ( 'booking/create' , BookingCreateView . as_view ()), path ( 'booking/<int:pk>/update' , BookingUpdateView . as_view ()), path ( 'booking/<int:pk>/delete' , BookingDestroyView . as_view ()), ]","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u043f\u0440\u043e\u0435\u043a\u0442\u0430"},{"location":"pr3_1/","text":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1 \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1 \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py from django.db import models from django.contrib.auth.models import AbstractUser from django.conf import settings class Owner ( AbstractUser ): first_name = models . CharField ( max_length = 30 ) last_name = models . CharField ( max_length = 30 ) birthday = models . DateField ( null = True , blank = True ) passport = models . IntegerField ( null = True , blank = True ) address = models . CharField ( max_length = 50 , null = True , blank = True ) nationality = models . CharField ( max_length = 20 , null = True , blank = True ) class Car ( models . Model ): number = models . CharField ( max_length = 15 ) brand = models . CharField ( max_length = 20 ) model = models . CharField ( max_length = 20 ) color = models . CharField ( max_length = 30 ) owner = models . ManyToManyField ( settings . AUTH_USER_MODEL , through = 'Ownership' ) class Ownership ( models . Model ): owner = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE , related_name = 'owner' ) car = models . ForeignKey ( Car , on_delete = models . CASCADE , related_name = 'car' ) start_date = models . DateField () end_date = models . DateField () class DriversLicense ( models . Model ): owner = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE , related_name = 'license_owner' ) number = models . CharField ( max_length = 10 ) type = models . CharField ( max_length = 10 ) date = models . DateField () \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 >>> owner1 = Owner . objects . create ( username = \"vasilyevalbert\" , first_name = \"Vasilyev\" , last_name = \"Albert\" , birthday = \"1996-03-10\" , passport = 9834127655 , address = \"Nakhimova 3\" , nationality = \"russian\" ) >>> owner2 = Owner . objects . create ( username = \"davivbosikov\" , first_name = \"Bosikov\" , last_name = \"David\" , birthday = \"1993-03-15\" , passport = 9803564765 , address = \"Ruzovskaya 7\" , nationality = \"r ussian \") >>> owner3 = Owner . objects . create ( username = \"fedornov\" , first_name = \"Novikov\" , last_name = \"Fedor\" , birthday = \"1990-07-19\" , passport = 9764353331 , address = \"Varshavskaya 4\" , nationality = \"rus sian \") >>> owner4 = Owner . objects . create ( username = \"geras\" , first_name = \"Gerasimov\" , last_name = \"Vlad\" , birthday = \"1987-05-18\" , passport = 9767353536 , address = \"Laktinskaya 17\" , nationality = \"russi an \") >>> owner5 = Owner . objects . create ( username = \"romanenko\" , first_name = \"Romanenko\" , last_name = \"Maksim\" , birthday = \"1993-10-14\" , passport = 976564536 , address = \"Chapaeva 24\" , nationality = \"rus sian \") >>> owner6 = Owner . objects . create ( username = \"samoylovp\" , first_name = \"Samoylov\" , last_name = \"Pavel\" , birthday = \"1990-12-09\" , passport = 9758234331 , address = \"Litovskaya 32\" , nationality = \"ru ssian \") \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 >>> car1 = Car . objects . create ( number = \"a145cc\" , brand = \"Mercury\" , model = \"Mystique\" , color = \"black\" ) >>> car2 = Car . objects . create ( number = \"e345ww\" , brand = \"Ferrari\" , model = \"Prtofino\" , color = \"pink\" ) >>> car3 = Car . objects . create ( number = \"t222qa\" , brand = \"Audi\" , model = \"A6\" , color = \"white\" ) >>> car4 = Car . objects . create ( number = \"t589dd\" , brand = \"Audi\" , model = \"Q8\" , color = \"yellow\" ) >>> car5 = Car . objects . create ( number = \"i764df\" , brand = \"BMW\" , model = \"X5\" , color = \"black\" ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432 >>> license1 = DriversLicense . objects . create ( owner = owner1 , number = \"12345\" , type = \"B\" , date = \"2013-10-23\" ) >>> license2 = DriversLicense . objects . create ( owner = owner2 , number = \"14531\" , type = \"C\" , date = \"2016-05-29\" ) >>> license3 = DriversLicense . objects . create ( owner = owner3 , number = \"24533\" , type = \"B\" , date = \"2015-01-16\" ) >>> license4 = DriversLicense . objects . create ( owner = owner4 , number = \"34540\" , type = \"B\" , date = \"2014-10-14\" ) >>> license5 = DriversLicense . objects . create ( owner = owner5 , number = \"87451\" , type = \"B\" , date = \"2014-12-04\" ) >>> license6 = DriversLicense . objects . create ( owner = owner6 , number = \"30004\" , type = \"B\" , date = \"2016-10-09\" ) \u0421\u0432\u044f\u0437\u044c \u043c\u0435\u0436\u0434\u0443 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c >>> ownership1 = Ownership . objects . create ( owner = owner1 , car = car1 , start_date = \"2018-06-30\" , end_date = \"2021-04-15\" ) >>> ownership2 = Ownership . objects . create ( owner = owner2 , car = car2 , start_date = \"2019-10-20\" , end_date = \"2022-01-17\" ) >>> ownership3 = Ownership . objects . create ( owner = owner3 , car = car3 , start_date = \"2016-02-24\" , end_date = \"2022-01-10\" ) >>> ownership4 = Ownership . objects . create ( owner = owner4 , car = car4 , start_date = \"2018-03-14\" , end_date = \"2021-11-12\" ) >>> ownership5 = Ownership . objects . create ( owner = owner5 , car = car5 , start_date = \"2018-07-14\" , end_date = \"2022-09-28\" ) >>> ownership6 = Ownership . objects . create ( owner = owner6 , car = car1 , start_date = \"2014-08-18\" , end_date = \"2016-06-21\" ) \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2 \u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c) >>> Car . objects . filter ( brand = \"BMW\" ) < QuerySet [ < Car : Car object ( 9 ) > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435) >>> Owner . objects . filter ( last_name = \"Kirill\" ) < QuerySet [ < Owner : KKirll > ] > \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430) >>> need_id = Owner . objects . all ()[ 4 ] . id >>> DriversLicense . objects . get ( owner = need_id ) < DriversLicense : DriversLicense object ( 1 ) > \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442) >>> Owner . objects . filter ( owner__car__color = \"white\" ) < QuerySet [ < Owner : KKirll > , < Owner : fedornov > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435) >>> Owner . objects . filter ( owner__start_date__gte = \"2019-01-01\" ) < QuerySet [ < Owner : KKirll > , < Owner : davivbosikov > ] > \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3 \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f >>> DriversLicense . objects . aggregate ( date_of_issue = Min ( \"date\" )) { 'date_of_issue' : datetime . date ( 2013 , 10 , 23 )} \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435 >>> Ownership . objects . aggregate ( start_date = Max ( \"start_date\" )) { 'start_date' : datetime . date ( 2019 , 10 , 20 )} \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f >>> Ownership . objects . values ( \"owner\" ) . annotate ( Count ( \"car\" )) < QuerySet [{ 'owner' : 2 , 'car__count' : 3 }, { 'owner' : 3 , 'car__count' : 3 }, { 'owner' : 6 , 'car__count' : 1 }, { 'owner' : 7 , 'car__count' : 1 }, { 'owner' : 9 , 'car__count' : 1 }, { 'owner' : 10 , 'car __count ': 1}, {' owner ': 11, ' car__count ': 1}, {' owner ': 12, ' car__count ': 1}]> \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438 >>> Car . objects . values ( \"brand\" ) . annotate ( Count ( \"car\" )) < QuerySet [{ 'brand' : 'Audi' , 'car__count' : 2 }, { 'brand' : 'BMW' , 'car__count' : 1 }, { 'brand' : 'Ferrari' , 'car__count' : 3 }, { 'brand' : 'Mercedes' , 'car__count' : 1 }, { 'brand' : 'Mercury' , 'c ar__count ': 2}, {' brand ': ' Nissan ', ' car__count ': 1}, {' brand ': ' Porsche ', ' car__count ': 2}]> \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f >>> Owner . objects . order_by ( \"license_owner__date\" ) < QuerySet [ < Owner : admin > , < Owner : sunney > , < Owner : KKirll > , < Owner : neustroevdima > , < Owner : lebedevvv > , < Owner : admin2 > , < Owner : vasilyevalbert > , < Owner : geras > , < Owner : romanenko > , < Owner : fedornov > , < Owner : davivbosikov > , < Owner : samoylovp > ] >","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1"},{"location":"pr3_1/#no31","text":"","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1"},{"location":"pr3_1/#311","text":"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py from django.db import models from django.contrib.auth.models import AbstractUser from django.conf import settings class Owner ( AbstractUser ): first_name = models . CharField ( max_length = 30 ) last_name = models . CharField ( max_length = 30 ) birthday = models . DateField ( null = True , blank = True ) passport = models . IntegerField ( null = True , blank = True ) address = models . CharField ( max_length = 50 , null = True , blank = True ) nationality = models . CharField ( max_length = 20 , null = True , blank = True ) class Car ( models . Model ): number = models . CharField ( max_length = 15 ) brand = models . CharField ( max_length = 20 ) model = models . CharField ( max_length = 20 ) color = models . CharField ( max_length = 30 ) owner = models . ManyToManyField ( settings . AUTH_USER_MODEL , through = 'Ownership' ) class Ownership ( models . Model ): owner = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE , related_name = 'owner' ) car = models . ForeignKey ( Car , on_delete = models . CASCADE , related_name = 'car' ) start_date = models . DateField () end_date = models . DateField () class DriversLicense ( models . Model ): owner = models . ForeignKey ( settings . AUTH_USER_MODEL , on_delete = models . CASCADE , related_name = 'license_owner' ) number = models . CharField ( max_length = 10 ) type = models . CharField ( max_length = 10 ) date = models . DateField ()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1"},{"location":"pr3_1/#_1","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 >>> owner1 = Owner . objects . create ( username = \"vasilyevalbert\" , first_name = \"Vasilyev\" , last_name = \"Albert\" , birthday = \"1996-03-10\" , passport = 9834127655 , address = \"Nakhimova 3\" , nationality = \"russian\" ) >>> owner2 = Owner . objects . create ( username = \"davivbosikov\" , first_name = \"Bosikov\" , last_name = \"David\" , birthday = \"1993-03-15\" , passport = 9803564765 , address = \"Ruzovskaya 7\" , nationality = \"r ussian \") >>> owner3 = Owner . objects . create ( username = \"fedornov\" , first_name = \"Novikov\" , last_name = \"Fedor\" , birthday = \"1990-07-19\" , passport = 9764353331 , address = \"Varshavskaya 4\" , nationality = \"rus sian \") >>> owner4 = Owner . objects . create ( username = \"geras\" , first_name = \"Gerasimov\" , last_name = \"Vlad\" , birthday = \"1987-05-18\" , passport = 9767353536 , address = \"Laktinskaya 17\" , nationality = \"russi an \") >>> owner5 = Owner . objects . create ( username = \"romanenko\" , first_name = \"Romanenko\" , last_name = \"Maksim\" , birthday = \"1993-10-14\" , passport = 976564536 , address = \"Chapaeva 24\" , nationality = \"rus sian \") >>> owner6 = Owner . objects . create ( username = \"samoylovp\" , first_name = \"Samoylov\" , last_name = \"Pavel\" , birthday = \"1990-12-09\" , passport = 9758234331 , address = \"Litovskaya 32\" , nationality = \"ru ssian \") \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439 >>> car1 = Car . objects . create ( number = \"a145cc\" , brand = \"Mercury\" , model = \"Mystique\" , color = \"black\" ) >>> car2 = Car . objects . create ( number = \"e345ww\" , brand = \"Ferrari\" , model = \"Prtofino\" , color = \"pink\" ) >>> car3 = Car . objects . create ( number = \"t222qa\" , brand = \"Audi\" , model = \"A6\" , color = \"white\" ) >>> car4 = Car . objects . create ( number = \"t589dd\" , brand = \"Audi\" , model = \"Q8\" , color = \"yellow\" ) >>> car5 = Car . objects . create ( number = \"i764df\" , brand = \"BMW\" , model = \"X5\" , color = \"black\" ) \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0445 \u043f\u0440\u0430\u0432 >>> license1 = DriversLicense . objects . create ( owner = owner1 , number = \"12345\" , type = \"B\" , date = \"2013-10-23\" ) >>> license2 = DriversLicense . objects . create ( owner = owner2 , number = \"14531\" , type = \"C\" , date = \"2016-05-29\" ) >>> license3 = DriversLicense . objects . create ( owner = owner3 , number = \"24533\" , type = \"B\" , date = \"2015-01-16\" ) >>> license4 = DriversLicense . objects . create ( owner = owner4 , number = \"34540\" , type = \"B\" , date = \"2014-10-14\" ) >>> license5 = DriversLicense . objects . create ( owner = owner5 , number = \"87451\" , type = \"B\" , date = \"2014-12-04\" ) >>> license6 = DriversLicense . objects . create ( owner = owner6 , number = \"30004\" , type = \"B\" , date = \"2016-10-09\" ) \u0421\u0432\u044f\u0437\u044c \u043c\u0435\u0436\u0434\u0443 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c >>> ownership1 = Ownership . objects . create ( owner = owner1 , car = car1 , start_date = \"2018-06-30\" , end_date = \"2021-04-15\" ) >>> ownership2 = Ownership . objects . create ( owner = owner2 , car = car2 , start_date = \"2019-10-20\" , end_date = \"2022-01-17\" ) >>> ownership3 = Ownership . objects . create ( owner = owner3 , car = car3 , start_date = \"2016-02-24\" , end_date = \"2022-01-10\" ) >>> ownership4 = Ownership . objects . create ( owner = owner4 , car = car4 , start_date = \"2018-03-14\" , end_date = \"2021-11-12\" ) >>> ownership5 = Ownership . objects . create ( owner = owner5 , car = car5 , start_date = \"2018-07-14\" , end_date = \"2022-09-28\" ) >>> ownership6 = Ownership . objects . create ( owner = owner6 , car = car1 , start_date = \"2014-08-18\" , end_date = \"2016-06-21\" )","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439"},{"location":"pr3_1/#312","text":"\u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c) >>> Car . objects . filter ( brand = \"BMW\" ) < QuerySet [ < Car : Car object ( 9 ) > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435) >>> Owner . objects . filter ( last_name = \"Kirill\" ) < QuerySet [ < Owner : KKirll > ] > \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430) >>> need_id = Owner . objects . all ()[ 4 ] . id >>> DriversLicense . objects . get ( owner = need_id ) < DriversLicense : DriversLicense object ( 1 ) > \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442) >>> Owner . objects . filter ( owner__car__color = \"white\" ) < QuerySet [ < Owner : KKirll > , < Owner : fedornov > ] > \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435) >>> Owner . objects . filter ( owner__start_date__gte = \"2019-01-01\" ) < QuerySet [ < Owner : KKirll > , < Owner : davivbosikov > ] >","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2"},{"location":"pr3_1/#313","text":"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f >>> DriversLicense . objects . aggregate ( date_of_issue = Min ( \"date\" )) { 'date_of_issue' : datetime . date ( 2013 , 10 , 23 )} \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435 >>> Ownership . objects . aggregate ( start_date = Max ( \"start_date\" )) { 'start_date' : datetime . date ( 2019 , 10 , 20 )} \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f >>> Ownership . objects . values ( \"owner\" ) . annotate ( Count ( \"car\" )) < QuerySet [{ 'owner' : 2 , 'car__count' : 3 }, { 'owner' : 3 , 'car__count' : 3 }, { 'owner' : 6 , 'car__count' : 1 }, { 'owner' : 7 , 'car__count' : 1 }, { 'owner' : 9 , 'car__count' : 1 }, { 'owner' : 10 , 'car __count ': 1}, {' owner ': 11, ' car__count ': 1}, {' owner ': 12, ' car__count ': 1}]> \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438 >>> Car . objects . values ( \"brand\" ) . annotate ( Count ( \"car\" )) < QuerySet [{ 'brand' : 'Audi' , 'car__count' : 2 }, { 'brand' : 'BMW' , 'car__count' : 1 }, { 'brand' : 'Ferrari' , 'car__count' : 3 }, { 'brand' : 'Mercedes' , 'car__count' : 1 }, { 'brand' : 'Mercury' , 'c ar__count ': 2}, {' brand ': ' Nissan ', ' car__count ': 1}, {' brand ': ' Porsche ', ' car__count ': 2}]> \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f >>> Owner . objects . order_by ( \"license_owner__date\" ) < QuerySet [ < Owner : admin > , < Owner : sunney > , < Owner : KKirll > , < Owner : neustroevdima > , < Owner : lebedevvv > , < Owner : admin2 > , < Owner : vasilyevalbert > , < Owner : geras > , < Owner : romanenko > , < Owner : fedornov > , < Owner : davivbosikov > , < Owner : samoylovp > ] >","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3"}]}